{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1 class="green-text">Edit Session</h1>

    <!-- Your edit session form goes here -->
    <form method="POST" action="{{ url_for('edit_appointment', sessionId=appointment.sessionId) }}">
        <div class="row">
            <div class="input-field col s12">
                <input type="date" id="date" name="date" class="datepicker"
                    value="{{ appointment.date.strftime('%Y-%m-%d') if appointment.date }}" required>
                <label for="date">Date:</label>
            </div>
        </div>

        <div class="row">
            <div class="input-field col s12">
                <input type="text" id="sessionLength" name="sessionLength" value="{{ appointment.sessionLength }}"
                    required>
                <label for="sessionLength">Session Length:</label>
            </div>
        </div>

        <div class="row">
            <div class="input-field col s12">
                <textarea id="description" name="description" class="materialize-textarea"
                    required>{{ appointment.description }}</textarea>
                <label for="description">Description:</label>
            </div>
        </div>

        <div class="row">
            <div class="col s12">
                <button class="btn green waves-effect waves-light" type="submit">
                    Update Appointment
                </button>
            </div>
        </div>
    </form>
</div>

<!-- Initialize the datepicker -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        var datepicker = document.querySelectorAll(".datepicker");
        M.Datepicker.init(datepicker, {
            format: "yyyy-mm-dd",
            autoClose: true
        });
    });
</script>
{% endblock %}